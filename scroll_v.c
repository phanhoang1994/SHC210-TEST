#include <stdint.h>
#include <stdbool.h>

/* Standard includes. */
#include "inc/hw_memmap.h"
#include "driverlib/gpio.h"

#include "inc/hw_types.h"
#include "inc/display.h"
#include "inc/global.h"
#include "inc/function.h"

extern unsigned long ulInport;

const unsigned int uiNumberV_OFF[16]= 	{0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000};	  	//No

const unsigned int uiNumberV_E[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x0000, 0x0000};		//E
const unsigned int uiNumberV_H[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x0080, 0x0080, 0x0080, 0x0080, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0000, 0x0000};		//H
const unsigned int uiNumberV_B[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0000, 0x0000};		//B
const unsigned int uiNumberV_L[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000, 0x0000, 0x0000, 0x0000, 0x0000};		//L
const unsigned int uiNumberV_M[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FF8, 0x0010, 0x0020, 0x0020, 0x0010, 0x1FF8, 0x1FFC, 0x0000, 0x0000, 0x0000, 0x0000};		//M
const unsigned int uiNumberV_3A[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x1FF0, 0x1FF8, 0x0084, 0x0084, 0x0084, 0x1FF8, 0x1FF0};		//3A
const unsigned int uiNumberV_4A[16]=	{0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400, 0x0000, 0x1FF0, 0x1FF8, 0x0084, 0x0084, 0x0084, 0x1FF8, 0x1FF0};		//3A

const unsigned int uiNumberV_12A[16]=	{0x1FF8, 0x1FFC, 0x0000, 0x1C08, 0x1E04, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x1FF0, 0x1FF8, 0x0084, 0x0084, 0x1FF8, 0x1FF0};		//12A
const unsigned int uiNumberV_14A[16]=	{0x1FF8, 0x1FFC, 0x0000, 0x03C0, 0x03E0, 0x0210, 0x0208, 0x1FFC, 0x1FFC, 0x0000, 0x1FF0, 0x1FF8, 0x0084, 0x0084, 0x1FF8, 0x1FF0};		//14A

const unsigned int uiNumberV_E0[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1004, 0x1004, 0x1004, 0x1FFC, 0x0FF8};		//E0
const unsigned int uiNumberV_E1[16]=	{0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};		//E1
const unsigned int uiNumberV_E2[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038};		//E2
const unsigned int uiNumberV_E3[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//E3
const unsigned int uiNumberV_E4[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400};		//E4
const unsigned int uiNumberV_E5[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704};		//E5
const unsigned int uiNumberV_E6[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1044, 0x1044, 0x1044, 0x1FCC, 0x0F88};		//E6
const unsigned int uiNumberV_E7[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1084, 0x0000, 0x0000, 0x0004, 0x0004, 0x1E04, 0x1F04, 0x0084, 0x007C, 0x003C};		//E7

const unsigned int uiNumberV_B1[16]=	{0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};		//B1
const unsigned int uiNumberV_B2[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038};		//B2
const unsigned int uiNumberV_B3[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//B3
const unsigned int uiNumberV_B4[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400};		//B4
const unsigned int uiNumberV_B5[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704};		//B5

const unsigned int uiNumberV_M1[16]=	{0x0000, 0x0000, 0x1FFC, 0x1FF8, 0x0010, 0x0020, 0x0010, 0x1FF8, 0x1FFC, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};		//M1
const unsigned int uiNumberV_M2[16]=	{0x1FFC, 0x1FF8, 0x0010, 0x0020, 0x0010, 0x1FF8, 0x1FFC, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038};		//M2

const unsigned int uiNumberV_H1[16]=	{0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x0080, 0x0080, 0x0080, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};		//H1
const unsigned int uiNumberV_H2[16]=	{0x1FFC, 0x1FFC, 0x0080, 0x0080, 0x0080, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038};		//H2

const unsigned int uiNumberV_G[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x07F0, 0x0FF8, 0x1004, 0x1004, 0x1084, 0x1084, 0x1F84, 0x1F08, 0x0000, 0x0000, 0x0000, 0x0000};		//G
const unsigned int uiNumberV_0[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1004, 0x1004, 0x1004, 0x1004, 0x1FFC, 0x0FF8, 0x0000, 0x0000, 0x0000, 0x0000};		//0
const unsigned int uiNumberV_1[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000};		//1
const unsigned int uiNumberV_2[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x1044, 0x103C, 0x1018, 0x0000, 0x0000, 0x0000, 0x0000};		//2
const unsigned int uiNumberV_3[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0000, 0x0000};		//3
const unsigned int uiNumberV_4[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0700, 0x0780, 0x0440, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400, 0x0000, 0x0000, 0x0000};		//4
const unsigned int uiNumberV_5[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704, 0x0000, 0x0000, 0x0000, 0x0000};		//5
const unsigned int uiNumberV_6[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1044, 0x1044, 0x1044, 0x1044, 0x1FCC, 0x0F88, 0x0000, 0x0000, 0x0000, 0x0000};		//6
const unsigned int uiNumberV_7[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0004, 0x0004, 0x1E04, 0x1F04, 0x0084, 0x0044, 0x003C, 0x001C, 0x0000, 0x0000, 0x0000, 0x0000};		//7
const unsigned int uiNumberV_8[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0F78, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0F78, 0x0000, 0x0000, 0x0000, 0x0000};		//8
const unsigned int uiNumberV_9[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0878, 0x18FC, 0x1084, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0FF8, 0x0000, 0x0000, 0x0000, 0x0000};		//9

const unsigned int uiNumberV_10[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1004, 0x1004, 0x1004, 0x1FFC, 0x0FF8, 0x0000, 0x0000};		//10
const unsigned int uiNumberV_11[16]=	{0x0000, 0x0000, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0000, 0x0000};		//11
const unsigned int uiNumberV_12[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000};		//12
const unsigned int uiNumberV_13[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000};		//13
const unsigned int uiNumberV_14[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400, 0x0000};		//14
const unsigned int uiNumberV_15[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704, 0x0000, 0x0000};		//15
const unsigned int uiNumberV_16[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1044, 0x1044, 0x1044, 0x1FCC, 0x0F88, 0x0000, 0x0000};		//16
const unsigned int uiNumberV_17[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0004, 0x0004, 0x1E04, 0x1F04, 0x0084, 0x007C, 0x003C, 0x0000, 0x0000};		//17
const unsigned int uiNumberV_18[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0F78, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0F78, 0x0000, 0x0000};		//18
const unsigned int uiNumberV_19[16]=	{0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0878, 0x18FC, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0FF8, 0x0000, 0x0000};		//19

const unsigned int uiNumberV_20[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1004, 0x1004, 0x1004, 0x1FFC, 0x0FF8};		//20
const unsigned int uiNumberV_21[16]=	{0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};		//21
const unsigned int uiNumberV_22[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038};		//22
const unsigned int uiNumberV_23[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//23
const unsigned int uiNumberV_24[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400};		//24
const unsigned int uiNumberV_25[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704};		//25
const unsigned int uiNumberV_26[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1044, 0x1044, 0x1044, 0x1FCC, 0x0F88};		//26
const unsigned int uiNumberV_27[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0004, 0x0004, 0x1E04, 0x1F04, 0x0084, 0x007C, 0x003C};		//27
const unsigned int uiNumberV_28[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0F78, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0F78};		//28
const unsigned int uiNumberV_29[16]=	{0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x0000, 0x0878, 0x18FC, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0FF8};		//29  		

const unsigned int uiNumberV_30[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1004, 0x1004, 0x1004, 0x1FFC, 0x0FF8};		//30
const unsigned int uiNumberV_31[16]=	{0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};		//31
const unsigned int uiNumberV_32[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x107C, 0x1038};		//32
const unsigned int uiNumberV_33[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//33
const unsigned int uiNumberV_34[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400};		//34
const unsigned int uiNumberV_35[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704};		//35
const unsigned int uiNumberV_36[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1044, 0x1044, 0x1044, 0x1FCC, 0x0F88};		//36
const unsigned int uiNumberV_37[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0004, 0x0004, 0x1E04, 0x1F04, 0x0084, 0x007C, 0x003C};		//37
const unsigned int uiNumberV_38[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0F78, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0F78};		//38
const unsigned int uiNumberV_39[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0878, 0x18FC, 0x1084, 0x1084, 0x1084, 0x1FFC, 0x0FF8};		//39

const unsigned int uiNumberV_12B[16]=	{0x1FF8, 0x1FFC, 0x0000, 0x1C08, 0x1E04, 0x1104, 0x1084, 0x107C, 0x1038, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x0F78, 0x0630};		//12B
const unsigned int uiNumberV_14B[16]=	{0x1FF8, 0x1FFC, 0x0000, 0x03C0, 0x03E0, 0x0210, 0x0208, 0x1FFC, 0x1FFC, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x0F78, 0x0630};		//14B
const unsigned int uiNumberV_B6[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0FF8, 0x1FFC, 0x1044, 0x1044, 0x1044, 0x1FCC, 0x0F88};		//B6
const unsigned int uiNumberV_R[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x0104, 0x0104, 0x0304, 0x0504, 0x08F8, 0x1070, 0x0000, 0x0000, 0x0000, 0x0000};		//38
const unsigned int uiNumberV_T[16]=		{0x0000, 0x0000, 0x0000, 0x0000, 0x0004, 0x0004, 0x0004, 0x1FFC, 0x1FFC, 0x0004, 0x0004, 0x0004, 0x0000, 0x0000, 0x0000, 0x0000};		//39
const unsigned int uiNumberV_3B[16]=	{0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//39
const unsigned int uiNumberV_B7[16]=	{0x1FFC, 0x1FFC, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630, 0x0000, 0x0000, 0x0004, 0x0004, 0x1E04, 0x1F04, 0x0084, 0x007C, 0x003C};		//39
const unsigned int uiNumberV_GL[16]=	{0x07F0, 0x0FF8, 0x1004, 0x1004, 0x1084, 0x1F84, 0x1F08, 0x0000, 0x0000, 0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000};		//39
const unsigned int uiNumberV_M3[16]=	{0x1FFC, 0x1FF8, 0x0010, 0x0020, 0x0010, 0x1FF8, 0x1FFC, 0x0000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//39

const unsigned int uiNumberV_ST[16]=	{0x0830, 0x1878, 0x1084, 0x1084, 0x1084, 0x0F0C, 0x0608, 0x0000, 0x0004, 0x0004, 0x0004, 0x1FFC, 0x1FFC, 0x0004, 0x0004, 0x0004};		//39
const unsigned int uiNumberV_L1[16]=	{0X0000, 0X0000, 0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000,0x1000, 0x1000,  0x0000, 0x0008, 0x1FFC, 0x1FFC, 0x0000, 0x0000};	//L1
const unsigned int uiNumberV_L2[16]=	{0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000, 0x0000, 0x1808, 0x1C0C, 0x1204, 0x1104, 0x1084, 0x1044, 0x103C, 0x1018};		//L2
const unsigned int uiNumberV_L3[16]=	{0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000, 0x0000, 0x0808, 0x180C, 0x1084, 0x1084, 0x1084, 0x1084, 0x0F78, 0x0630};		//L3
const unsigned int uiNumberV_L4[16]=	{0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000, 0x0000, 0x0780, 0x07C0, 0x0420, 0x0410, 0x0408, 0x1FFC, 0x1FFC, 0x0400};		//L3
const unsigned int uiNumberV_L5[16]=	{0x1FFC, 0x1FFC, 0x1000, 0x1000, 0x1000, 0x1000, 0x1000, 0x0000, 0x0000, 0x087C, 0x187C, 0x1044, 0x1044, 0x1044, 0x0F84, 0x0704};		//L3

const unsigned int uiArrowVUp[16]= 		{0x0000, 0x0000, 0x0000, 0x0000, 0x0040, 0x0020, 0x1FF0, 0x1FF8, 0x1FF8, 0x1FF0, 0x0020, 0x0040, 0x0000, 0x0000, 0x0000, 0x0000,};
const unsigned int uiArrowVDown[16]=	{0x0000, 0x0000, 0x0000, 0x0000, 0x0200, 0x0400, 0x0FF8, 0x1FF8, 0x1FF8, 0x0FF8, 0x0400, 0x0200, 0x0000, 0x0000, 0x0000, 0x0000,};
const unsigned int uiArrowTest[16]=		{0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa,};

const unsigned int *puiNumberV_Table[] =
{
	uiNumberV_OFF, 	//0
	uiNumberV_B,    //1	
	uiNumberV_L,    //2
	uiNumberV_M, 	//3
	uiNumberV_B1,   //4
	uiNumberV_B2, 	//5	
	uiNumberV_M1,   //6
	uiNumberV_M2, 	//7		
	uiNumberV_H1,   //8
	uiNumberV_H2, 	//9		
	uiNumberV_B3,   //10	
	uiNumberV_B4,   //11
	uiNumberV_B5, 	//12
	uiNumberV_3A, 	//13
	uiNumberV_12A, 	//14
	uiNumberV_14A, 	//15
	uiNumberV_G,    //16
	uiNumberV_1, 	//17
	uiNumberV_2,    //18
	uiNumberV_3,    //19
	uiNumberV_4,    //20
	uiNumberV_5,    //21
	uiNumberV_6,    //22
	uiNumberV_7,    //23
	uiNumberV_8,    //24
	uiNumberV_9,    //25
	uiNumberV_10,   //26
	uiNumberV_11,   //27
	uiNumberV_12,   //28
	uiNumberV_13,   //29
	uiNumberV_14,   //30
	uiNumberV_15,   //31
	uiNumberV_16,   //32
	uiNumberV_17, 	//33
	uiNumberV_18,   //34
	uiNumberV_19,   //35
	uiNumberV_20,   //36
	uiNumberV_21,   //37
	uiNumberV_22,   //38
	uiNumberV_23,   //39
	
	uiNumberV_E,   	//40
	uiNumberV_E0,   //41
	uiNumberV_E1,   //42
	uiNumberV_E2,   //43
	uiNumberV_E3,   //44
	uiNumberV_E4,   //45
	uiNumberV_E5,   //46
	uiNumberV_E6,   //47
	uiNumberV_E7,   //48
	
	uiNumberV_24,   //49
	uiNumberV_25,   //50
	uiNumberV_26,   //51
	uiNumberV_27, 	//52
	uiNumberV_28,   //53
	uiNumberV_29,   //54
	uiNumberV_30,   //55
	uiNumberV_31,   //56
	uiNumberV_32,   //57
	uiNumberV_33,   //58
	uiNumberV_34,   //59
	uiNumberV_35,   //60
	uiNumberV_36,   //61
	uiNumberV_37, 	//62
	uiNumberV_38,   //63
	uiNumberV_39,   //64
	
	uiNumberV_12B,  //65
	uiNumberV_R,   	//66
	uiNumberV_T,   	//67
	uiNumberV_B6,   //68
	uiNumberV_B7,   //69
	uiNumberV_M3,   //70
	uiNumberV_GL,   //71
	uiNumberV_3B,   //72
	uiNumberV_14B,  //73
	uiNumberV_ST,	//74
	uiNumberV_L1,	//75
	uiNumberV_L2,	//76
	uiNumberV_L3,	//77
	uiNumberV_4A,	//78
	uiNumberV_L4,	//79
	uiNumberV_L5	//80
};

unsigned char ucScrollNumberV(void);
unsigned char ucScrollArrowV(void);
unsigned char ucScrollStringV(void);

const xNumberCodeHandler xNumberCodeV[NUM_LEDCODE]=
{
	//Led7Seg, Block1, 			Block2, 		ucNumber, ucStr
	{0x49, 	0, 							ucScrollStringV,	0, 		0}, 	//0-Stop
	{0x64, 	ucScrollArrowV, ucScrollStringV, 	0, 		1}, 	//1-Inspection
	{0x76, 	ucScrollArrowV, ucScrollStringV, 	0, 		6},    	//2-Reset
	{0x77, 	ucScrollArrowV, ucScrollStringV, 	0, 		2},    	//3-Rescue
	
	{0xFF, 	ucScrollArrowV, ucScrollStringV, 	0, 		9},    	//3-Rescue

	{0x79, 	ucScrollArrowV, ucScrollNumberV, 	40, 	0}, 	//4-Error
	{0x7C, 	ucScrollArrowV, ucScrollNumberV, 	1, 		0}, 	//5-B
	{0x38, 	ucScrollArrowV, ucScrollNumberV, 	2, 		0},  	//6-L
	{0x37, 	ucScrollArrowV, ucScrollNumberV, 	3, 		0},  	//7-M
	{0x0E, 	ucScrollArrowV, ucScrollNumberV, 	4, 		0},  	//8-B1
	{0x0F, 	ucScrollArrowV, ucScrollNumberV, 	5, 		0},  	//9-B2
	{0x10, 	ucScrollArrowV, ucScrollNumberV, 	6, 		0},  	//10-M1
	{0x11, 	ucScrollArrowV, ucScrollNumberV, 	7, 		0},  	//11-M2
	{0x12, 	ucScrollArrowV, ucScrollNumberV, 	8, 		0},  	//12-V1
	{0x13, 	ucScrollArrowV, ucScrollNumberV, 	9, 		0},  	//13-V2
	{0x14, 	ucScrollArrowV, ucScrollNumberV, 	10, 	0},  	//14-B3
	{0x15, 	ucScrollArrowV, ucScrollNumberV, 	11, 	0},  	//15-B4
	{0x16, 	ucScrollArrowV, ucScrollNumberV, 	12, 	0},  	//16-B5
	{0x17, 	ucScrollArrowV, ucScrollNumberV, 	13, 	0},  	//17-3A
	{0x18, 	ucScrollArrowV, ucScrollNumberV, 	14, 	0},  	//18-12A
	{0x19, 	ucScrollArrowV, ucScrollNumberV, 	15, 	0},  	//19-14A

	{0x1A, 	0, 				ucScrollNumberV, 	41, 	0},  	//20-E0
	{0x1B, 	0, 				ucScrollNumberV, 	42, 	0},  	//21-E1
	{0x1C, 	0, 				ucScrollNumberV, 	43, 	0},  	//22-E2
	{0x1D, 	0, 				ucScrollNumberV, 	44, 	0},  	//23-E3
	{0x1E, 	0, 				ucScrollNumberV, 	45, 	0},  	//24-E4
	{0x1F, 	0, 				ucScrollNumberV, 	46, 	0},  	//25-E5
	{0x20, 	0, 				ucScrollNumberV, 	47, 	0},  	//26-E6
	{0x21, 	0, 				ucScrollNumberV, 	48, 	0},  	//27-E7

	{0x3F, 	ucScrollArrowV, ucScrollNumberV,  	16, 	0}, 	//28-G
	{0x06, 	ucScrollArrowV, ucScrollNumberV,  	17, 	0}, 	//29-1
	{0x5B, 	ucScrollArrowV, ucScrollNumberV,  	18, 	0}, 	//30-2
	{0x4F, 	ucScrollArrowV, ucScrollNumberV,  	19, 	0}, 	//31-3
	{0x66, 	ucScrollArrowV, ucScrollNumberV,  	20, 	0}, 	//32-4
	{0x6D, 	ucScrollArrowV, ucScrollNumberV,  	21, 	0}, 	//33-5
	{0x7D, 	ucScrollArrowV, ucScrollNumberV,  	22, 	0}, 	//34-6
	{0x07, 	ucScrollArrowV, ucScrollNumberV,  	23, 	0}, 	//35-7
	{0x7F, 	ucScrollArrowV, ucScrollNumberV,  	24, 	0}, 	//36-8
	{0x6F, 	ucScrollArrowV, ucScrollNumberV,  	25, 	0}, 	//37-9
	{0xBF, 	ucScrollArrowV, ucScrollNumberV,  	26, 	0}, 	//38-10
	{0x86, 	ucScrollArrowV, ucScrollNumberV,  	27, 	0}, 	//39-11
	{0xDB, 	ucScrollArrowV, ucScrollNumberV,  	28, 	0}, 	//40-12
	{0xCF, 	ucScrollArrowV, ucScrollNumberV,  	29, 	0}, 	//41-13
	{0xE6, 	ucScrollArrowV, ucScrollNumberV,  	30, 	0}, 	//42-14
	{0xED, 	ucScrollArrowV, ucScrollNumberV,  	31, 	0}, 	//43-15
	{0xFD, 	ucScrollArrowV, ucScrollNumberV,  	32, 	0}, 	//44-16
	{0x87, 	ucScrollArrowV, ucScrollNumberV,  	33, 	0}, 	//45-17
	{0x88, 	ucScrollArrowV, ucScrollNumberV,  	34, 	0}, 	//46-18
	{0xEF, 	ucScrollArrowV, ucScrollNumberV,  	35, 	0}, 	//47-19	
	{0x22, 	ucScrollArrowV, ucScrollNumberV,  	36, 	0},  	//48-20
	{0x23, 	ucScrollArrowV, ucScrollNumberV,  	37, 	0},  	//49-21
	{0x24, 	ucScrollArrowV, ucScrollNumberV,  	38, 	0},  	//50-22
	{0x25, 	ucScrollArrowV, ucScrollNumberV,  	39, 	0},  	//51-23
	{0x26, 	ucScrollArrowV, ucScrollNumberV,  	49, 	0},  	//52-24
	{0x27, 	ucScrollArrowV, ucScrollNumberV,  	50, 	0},  	//53-25
	{0x28, 	ucScrollArrowV, ucScrollNumberV,  	51, 	0},  	//54-26
	{0x29, 	ucScrollArrowV, ucScrollNumberV,  	52, 	0},  	//55-27
	{0x2A, 	ucScrollArrowV, ucScrollNumberV,  	53, 	0},  	//56-28
	{0x2B, 	ucScrollArrowV, ucScrollNumberV,  	54, 	0},  	//57-29
	{0x2C, 	ucScrollArrowV, ucScrollNumberV,  	55, 	0},  	//58-30
	{0x2D, 	ucScrollArrowV, ucScrollNumberV,  	56, 	0},  	//59-31
	{0x2E, 	ucScrollArrowV, ucScrollNumberV,  	57, 	0},  	//60-32
	{0x2F, 	ucScrollArrowV, ucScrollNumberV,  	58, 	0},  	//61-33
	{0x30, 	ucScrollArrowV, ucScrollNumberV,  	59, 	0},  	//62-34
	{0x31, 	ucScrollArrowV, ucScrollNumberV,  	60, 	0},  	//63-35
	{0x32, 	ucScrollArrowV, ucScrollNumberV,  	61, 	0},  	//64-36
	{0x33, 	ucScrollArrowV, ucScrollNumberV,  	62, 	0},  	//65-37
	{0x34, 	ucScrollArrowV, ucScrollNumberV,  	63, 	0},  	//66-38
	{0x35, 	ucScrollArrowV, ucScrollNumberV,  	64, 	0},  	//67-39	
	
	{0x36, 	ucScrollArrowV,	ucScrollNumberV,	65, 	0},  	//68-12B
	{0x39, 	ucScrollArrowV,	ucScrollNumberV,	66, 	0},  	//69-R
	{0x3A, 	ucScrollArrowV,	ucScrollNumberV,	67, 	0},  	//70-T
	{0x40, 	ucScrollArrowV,	ucScrollNumberV,	68, 	0},  	//71-B6
	{0x41, 	ucScrollArrowV,	ucScrollNumberV,	69, 	0},  	//72-B7
	{0x42, 	ucScrollArrowV,	ucScrollNumberV,	70, 	0},  	//73-M3
	{0x43, 	ucScrollArrowV,	ucScrollNumberV,	71, 	0},  	//74-GL														
	{0x44, 	ucScrollArrowV,	ucScrollNumberV,	72, 	0},  	//75-3B
	{0x45, 	ucScrollArrowV,	ucScrollNumberV,	73, 	0},  	//76-14B
	{0x3C, 	ucScrollArrowV,	ucScrollNumberV,	74, 	0},  	//77-ST
	{0x3D, 	ucScrollArrowV,	ucScrollNumberV,	75, 	0}, 	//L1
	{0x3E, 	ucScrollArrowV,	ucScrollNumberV,	76, 	0},		//L2
	{0x46, 	ucScrollArrowV,	ucScrollNumberV,	77, 	0},		//L3
	{0x4A, 	ucScrollArrowV,	ucScrollNumberV,	78, 	0},		//4A
	{0x47, 	ucScrollArrowV,	ucScrollNumberV,	79, 	0},		//4A
	{0x48, 	ucScrollArrowV,	ucScrollNumberV,	80, 	0},		//4A
};

// Bien phuc vu hien thi led
extern unsigned long ulNumberDelay;
extern unsigned long ulArrowDelay;
extern unsigned long ulStringDelay;
extern xNumberHandler xNumber;
extern xArrowHandler xArrow;
extern xScanHandler xBlock;
extern xStringHandler xString;
extern xStatusHandler xData;
extern unsigned long ulBlock1Data[16];
extern unsigned long ulBlock2Data[16];
extern xStringCodeHandler xStringTable[];

unsigned char ucScrollArrowV(void)
{
	unsigned char i;
	unsigned long *pulBuffer;
	const unsigned int *puiArrow;
	
	if(_isset(ulInport, PIN_BTD)){_set(xData.ucStatus,DIR_DOWN);LTD_ON();} else{ _clear(xData.ucStatus,DIR_DOWN);LTD_OFF();}
	if(_isset(ulInport, PIN_BTU)){_set(xData.ucStatus,DIR_UP); LTU_ON();} else{ _clear(xData.ucStatus,DIR_UP);LTU_OFF();}
	if(_isset(ulInport, PIN_X1)){_set(xData.ucStatus,DIR_UP); X1_ON();}else{ X1_OFF();}

	if(_isset(xData.ucStatus,DIR_UP))
	{
		xArrow.puiArrow=uiArrowVUp;
		if(_isset(ulInport,PIN_X1)) {xArrow.puiArrow=uiArrowTest;_set(xData.ucStatus,RUN);}
	}
	else if(_isset(xData.ucStatus,DIR_DOWN))
	{
	  	xArrow.puiArrow=uiArrowVDown;
	}
		else if(_isset(xData.ucStatus,DIR_DOWN))
	{
	  	xArrow.puiArrow=uiArrowVDown;
	}
	else
	{
	  	xArrow.puiArrow=0;
	}

	pulBuffer=xArrow.pulBuffer;
	puiArrow=xArrow.puiArrow;

	if((xString.ucStr==0)&((xBlock.pucBlock1==ucScrollStringV)|(xBlock.pucBlock2==ucScrollStringV))) puiArrow=0;
	if(puiArrow==0) return 0;

	if(_isset(xData.ucStatus,RUN))
	{
		for(i=0;i<16;i++)
		{
			if(_isset(xData.ucStatus,DIR_UP))
			{
				*pulBuffer=(unsigned long)(*puiArrow>>xArrow.ucShift); 
				*pulBuffer|=(unsigned long)(*puiArrow<<(16-xArrow.ucShift));
			}
			else if(_isset(xData.ucStatus,DIR_DOWN))
			{
				*pulBuffer=(unsigned long)(*puiArrow<<xArrow.ucShift); 
				*pulBuffer|=(unsigned long)(*puiArrow>>(16-xArrow.ucShift));
			}
			//if(i>7)	{*pulBuffer<<=16;}	
			++puiArrow;
			++pulBuffer;
		}
	}
	else
	{
		for(i=0;i<16;i++)
		{
			*pulBuffer=(unsigned long)(*puiArrow); 
			//if(i>7)	{*pulBuffer<<=16;}	
			++puiArrow;
			++pulBuffer;
		}		
	}

	if(ulArrowDelay == 0)
	{
		if(_isset(xData.ucStatus,RUN))
		{
			++xArrow.ucShift;
			if(xArrow.ucShift>15) xArrow.ucShift = 0;
			if(_isset(ulInport,PIN_X1)){ulArrowDelay = 200;} else {ulArrowDelay = ARROW_SPEED;}
				
		}
		else
		{
			xArrow.ucShift = 0;
		}	
	} 
	return 1;		 
} 

unsigned char ucScrollStringV(void)
{
	unsigned char i, ucLen;
	unsigned long *pulBuffer;
	const unsigned int *puiString;

	pulBuffer=xString.pulBuffer;
	puiString=xStringTable[xString.ucStr].puiString;
	ucLen=xStringTable[xString.ucStr].ucLen-16;

	if(puiString==0) return 0;

	// Load data
	puiString+=xString.ucShift;
	for(i=0;i<16;i++)
	{
		*pulBuffer=(unsigned long)(*puiString); 
		//if(i>7)	{*pulBuffer<<=16;}
		++puiString;
		++pulBuffer;
	}

	if(ulStringDelay == 0)
	{
		++xString.ucShift;
		if(xString.ucShift>ucLen) xString.ucShift = 0;
		ulStringDelay = STRING_SPEED;
	}
	return 1;
}

unsigned char ucScrollNumberV(void)
{
	unsigned char i;
	unsigned long *pulBuffer;
	const unsigned int *puiCur;
	const unsigned int *puiNext;

	pulBuffer=xNumber.pulBuffer;
	puiCur=puiNumberV_Table[xNumber.ucCur];
	puiNext=puiNumberV_Table[xNumber.ucNext];

	if(pulBuffer==0) return 0;
	if((puiCur==0)&(puiNext==0)) return 0;

	if(puiCur==puiNext)
	{
		for(i=0;i<16;i++)
		{
			*pulBuffer=(unsigned long)(*puiCur);
			//if(i>7)	{*pulBuffer<<=16;}	
			++pulBuffer;
			++puiCur;
		}
	}
	else
	{
		for(i=0;i<16;i++)
		{
			if(_isset(xData.ucStatus,DIR_UP))
			{
				if(xNumber.ucShift<16)
				{
					if(puiCur!=0){*pulBuffer=(unsigned long)(*puiCur>>xNumber.ucShift); ++puiCur;};
					if(puiNext!=0){*pulBuffer|=(unsigned long)(*puiNext<<(18-xNumber.ucShift)); ++puiNext;};
				}
				else
				{
					if(puiNext!=0){*pulBuffer|=(unsigned long)(*puiNext<<(18-xNumber.ucShift)); ++puiNext;};
				}	
			}
			else
			{
				if(xNumber.ucShift<16)
				{
					if(puiCur!=0){*pulBuffer=(unsigned long)(*puiCur<<xNumber.ucShift); ++puiCur;};
					if(puiNext!=0){*pulBuffer|=(unsigned long)(*puiNext>>(18-xNumber.ucShift)); ++puiNext;};
				}
				else
				{
					if(puiNext!=0){*pulBuffer|=(unsigned long)(*puiNext>>(18-xNumber.ucShift)); ++puiNext;};
				}
			}
			//if(i>7)	{*pulBuffer<<=16;}	
			++pulBuffer;
		}
	}
	
	if(xNumber.ucCur!=xNumber.ucNext)
	{		
		if(ulNumberDelay == 0)
		{
			++xNumber.ucShift;
			if(xNumber.ucShift>17) 
			{
				xNumber.ucCur=xNumber.ucNext;
				xNumber.ucShift = 0;
			}
			ulNumberDelay = NUMBER_SPEED;
		}
	}
	return 1;		 
} 

void vScrollV(void)	//doc
{
	unsigned char i;
	xStringHandler xStr;

	/* Broadcast Frame: 8byte
		BYTE0: 	NumOfFloor
		BYTE1: 	Display
		BYTE2: 	Status 
				Bit0: Up
				Bit1: Down
				Bit2: Run
				Bit3: Earthquake
				Bit4: Fireman
				Bit5: Overload
				Bit6: Busy
				Bit7: Big digits

		BYTE3: 	Current floor
		BYTE4: 	Unused
		BYTE5: 	Unused
		BYTE6: 	Unused
		BYTE7: 	Unused
	*/

	xStr.ucStr = 0;
	
	// Display number
	if(_isset(xData.ucStatus, EARTHQUAKE)| _isset(xData.ucStatus, FIREMAN) |
		_isset(xData.ucStatus, OVERLOAD) | _isset(xData.ucStatus, NHB))
	{
		xBlock.pucBlock1=ucScrollStringV;
		xBlock.pucBlock2=ucScrollNumberV;
		xString.pulBuffer=ulBlock1Data;
		xNumber.pulBuffer=ulBlock2Data;
		xArrow.pulBuffer=0;

		//if(_isset(xData.ucStatus,BUSY)){xStr.ucStr=9;}
		//if(_isset(xData.ucStatus,NHB)){xStr.ucStr=4;}
		//if(_isset(xData.ucStatus,OVERLOAD)){xStr.ucStr=5;}
		//if(_isset(xData.ucStatus,EARTHQUAKE)){xStr.ucStr=7;}
		//if(_isset(xData.ucStatus,FIREMAN)){xStr.ucStr=3;}

		i=0;
		while((xData.ucLed7Seg!=xNumberCodeV[i].ucLed7Seg) & (i<NUM_LEDCODE)){++i;}; //Search ledcode
		if(i<NUM_LEDCODE){xNumber.ucNext=xNumberCodeV[i].ucNumber;};			
	}
	else
	{
		xString.pulBuffer=ulBlock2Data;
		xNumber.pulBuffer=ulBlock2Data;
		xArrow.pulBuffer=ulBlock1Data;

		i=0;
		while((xData.ucLed7Seg!=xNumberCodeV[i].ucLed7Seg) & (i<NUM_LEDCODE)){++i;}; //Search ledcode

		if(i<NUM_LEDCODE)
		{
			xBlock.pucBlock1=xNumberCodeV[i].pucBlock1;
			xBlock.pucBlock2=xNumberCodeV[i].pucBlock2;
			
			xNumber.ucNext=xNumberCodeV[i].ucNumber;
			xStr.ucStr=xNumberCodeV[i].ucStr;
		}		
	}

	if(xString.ucStr!=xStr.ucStr) 
	{
		xString.ucStr=xStr.ucStr;
		xString.ucShift=0;
	}
}
